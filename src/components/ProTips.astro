---
import type { EventType } from '../lib/types';

interface Props {
  event: EventType;
}

const { event } = Astro.props;

// Tip categories for editorial styling
const tipCategories = ['ATMOSPHERE', 'PREPARATION', 'TIMING', 'SERVICE', 'PRESENTATION'];

// Alternating border colors (wine and primary)
const borderColors = ['var(--wine)', 'var(--primary)', 'var(--wine)', 'var(--primary)', 'var(--wine)'];
---

<section class="py-16">
  <div class="max-w-3xl mx-auto px-4">
    <!-- Section Header -->
    <div class="mb-10">
      <h2 class="font-display text-2xl md:text-3xl font-bold text-[var(--chocolate)]">
        The Host's Secret
      </h2>
      <p class="text-[var(--primary-dark)] text-sm font-bold uppercase tracking-widest mt-2">
        Editorial Curation
      </p>
    </div>

    <!-- Pro Tips Cards -->
    <div class="space-y-6">
      {event.proTips.map((tip, index) => (
        <div
          class="bg-white rounded-xl shadow-md p-8 relative overflow-hidden"
          style={`border-left: 4px solid ${borderColors[index % borderColors.length]}`}
        >
          <!-- Large decorative quote mark -->
          <span
            class="font-display text-[5rem] leading-none absolute -top-2 left-4 select-none"
            style={`color: ${borderColors[index % borderColors.length]}20`}
            aria-hidden="true"
          >
            "
          </span>

          <!-- Category label -->
          <span
            class="text-xs font-bold uppercase tracking-widest mb-4 block"
            style={`color: ${borderColors[index % borderColors.length]}`}
          >
            {tipCategories[index % tipCategories.length]}
          </span>

          <!-- Quote text -->
          <p class="font-display text-xl text-[var(--chocolate)] leading-relaxed relative z-10">
            "{tip}"
          </p>

          <!-- Attribution line -->
          <div class="flex items-center gap-3 mt-6 text-[var(--chocolate-40)]">
            <span class="w-8 h-px bg-[var(--primary)]"></span>
            <span class="text-sm font-medium uppercase tracking-wide">Pro Tip #{index + 1}</span>
          </div>
        </div>
      ))}
    </div>

    <!-- Buying Guide - Premium Card -->
    <div class="mt-12 paper-texture rounded-2xl border border-[var(--primary-30)] shadow-lg overflow-hidden">
      <div class="m-3 border-2 border-[var(--primary-10)] rounded-xl p-8">
        <div class="flex items-start gap-4">
          <span class="text-4xl">ðŸ›’</span>
          <div>
            <h3 class="font-display font-bold text-xl text-[var(--chocolate)] mb-3">
              Buying Guide
            </h3>
            <p class="text-[var(--chocolate-light)] leading-relaxed">
              {event.buyingGuide}
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
